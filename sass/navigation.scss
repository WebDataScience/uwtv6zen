/**
 * @file
 * Navigation Styling
 */

@import "base";
@import "compass/css3";



/*
 * Markup generated by theme_menu_tree().
 */

ul li.expanded {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-expanded.png);
  }
  list-style-image: inline-image("menu-expanded.png");
  list-style-type: circle;
}
ul li.collapsed {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-collapsed.png);
  }
  list-style-image: inline-image("menu-collapsed.png");
  list-style-type: disc;
}
ul li.leaf {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-leaf.png);
  }
  list-style-image: inline-image("menu-leaf.png");
  list-style-type: square;
}

/*
 * The active item in a Drupal menu
 */

li a.active {
  color: #000;
}

/*
 * Navigation bar
 */

#navigation {
  /* overflow: hidden; */ /* Sometimes you want to prevent overlapping with main div. */

  .block {
    margin-bottom: 0;
  }

  .block-menu .block-title,
  .block-menu-block .block-title {
    @include element-invisible();
  }

  ul.links, /* Main menu and secondary menu links */
  ul.menu { /* Menu block links */
    margin: 0;
    padding: 0;
    text-align: left;

    li { /* A simple method to get navigation links to appear in one line. */
      float: left;
      padding: 0 10px 0 0;
      list-style-type: none;
      list-style-image: none;
    }
  }
}

/*
 * - Cleaning up default list styling (padding and list-style-*)
 * - Base flyout menu styling
 */
.menu{
  padding-left:0;
  margin-top:0;
  margin-bottom:0;
  font-size:0.75em;
  li,li.leaf,li.expanded,li.collapsed{
    @include transition-property(all);
    @include transition-duration(0.5s);
    list-style-type: none;
    list-style-image: none;

    .outerContainer{
      display: table;
      height: 4em;
      overflow: hidden;
      width:100%;
      .innerContainer{
        display: table-cell;
        vertical-align: middle;
        width: 100%;
        margin: 0 auto;
        text-align: center;
        .element {
          a{
            display:block;
          }
          a.active{
            //font-weight: normal;
          }
        }
      }
    }
    a:link,a:visited{
      text-decoration: none;
      padding:0 0em;

    }
  }
  li:hover > div div ul{
    display:block;
  }
  ul{
    display: none;
    position:absolute;
    font-size: inherit;
    li.leaf,li.expanded,li.collapsed{
      clear:both;
      width:100%;
      .outerContainer{
        height: auto;
        .innerContainer{
          text-align: left;
        }
      }
      a{
        text-align: left;
      }
    }
  }
}
.menu:after{
  content: "";
  clear:both;
  display:block;
}

/*
 * Global band menu
 */
 #global-menu {
  font-size: 80%;
  .menu{
    li{
      float:left;
      .outerContainer{
        height:35px;
        a:link,a:visited{
          text-decoration: none;
          color:white;
          background-color: black;
        }
      }
      ul li{
        .outerContainer{
          height:auto;
        }
      }
    }
    li:hover > div div ul{
      background-color:black;
      color:white;
    }
  }
 }

/*
 * Global secondary menu
 */
 #global-secondary{
  font-size:75%;
  text-transform: uppercase;
  .menu{
    li{
      float:left;
    }
  }
 }

/*
 * Site Navigation bar (horizontal, top level)
 */


#site-menu{
  .block{
    margin-bottom:0;// default is space between menu and body
  }
  position:relative;
  z-index: 2;
  background-color:$purple_dark;
  @include single-box-shadow(rgba(black, 0.5), 0px, 6px, 6px, 0px);
  .menu {
    li{ // Root menu items
      float:left;

      a:link,a:visited{
        color:$grey_light;
        padding:0 1em;
        line-height: 1em;
      }
      .outerContainer{
        max-width: 10em;
        .innerContainer{
          //border colors match background on #site-menu
          border-top:1px solid $purple_dark;
          border-bottom:1px solid $purple_dark;
        }
      }

    }
    li.active-trail{ // Root menu items in the active trail
      background-color: $grey_light;
      a:link,a:visited{
        color:$purple_dark;
      }
      li.active-trail {
        a:link,a:visited{
          color:$purple_dark;
        }
      }
      li.active-trail:hover{
        a:link,a:visited{
          color:$grey_light;
        }
      }
    }
    li:hover{
      background-color:$purple_dark;
      a:link,a:visited{
        color: $grey_light;
      }
    }
    li:hover > div div ul{
      background-color:$purple_dark;
    }
    // Nested menu items
    ul{
      border-top:1.25em solid $purple_dark;
      li{
        border-bottom:1px dotted $grey_light;
        .outerContainer{
          max-width:20em;
          a:link,a:visited{
            line-height: 2em;
          }
        }
      }
      li:hover{
        background-color:$purple_medium;
        a:link,a:visited{
          color:$purple_dark;
        }
        a.active:hover{
          color: $purple_dark;
          background-color:$purple_medium
        }
      }
      li.active a:link,li.active a:visited{
        color:$purple_dark;
        background-color:$purple_medium;
      }
      li.active-trail:hover a.active:link, li.active-trail:hover a.active:visited{
        color: $purple_dark;
      }
    }
  }
  .menu li.expanded{
    .innerContainer{
      a:after{
        content:" \21D3";
      }
      li{
        .innerContainer{
          border-top:0;
          border-bottom:0;
        }
        a:after{
          content:"";
        }
      }
    }
  }
}

/**
  * Subsite navigation (vertical)
  */

.region-sidebar-first{
  .block-menu-block.first{
    .block-title{
      padding-top:0.5em;
      line-height: 1.5em;
      text-transform: uppercase;
      font-size:0.75em;
      font-family: $base-font-family;
      font-weight:bold;
      background-color:$grey_light;
      border-left:0.9em solid $grey_light;
      margin-top:5px;
    }
  }
  ul.menu{
    //@include single-box-shadow(rgba(black, 0.5), -5px, -5px, 10px, -7px, inset);
    li{
        color:$purple_dark;
        background-color:$grey_light;
        border-left:0.5em solid $purple_medium;
      a:link,a:visited{
        padding:0.15em 0 0.15em 0.25em;
        display:block;
        border-bottom:1px dotted $grey_medium;

        @include transition-property(all);
        @include transition-duration(1s);

      }
      a.active{
        color:$purple_dark;
        background-color:$purple_medium;
        border-bottom:none;
        font-weight: bold;
      }
      a:hover{
        background-color:$purple_medium;
        color: $purple_dark;
      }
    }
    li.active{
      border-left:0.5em solid $purple_dark;
    }
    .outerContainer{
      height:auto;
      .innerContainer{
        text-align: left;
        .element{
          a{
            display:block;
          }
        }
      }
    }
    // Nested
    ul{
      margin-left:0.5em;
      box-shadow: none;
      display:block;
      position:relative;

      li{
        padding-right:0;
        border-left:0.5em solid $grey_light;
      }
    }
  }
}

/*
 * Foter menus
 */
 #footer{ 
  .menu{
    .outerContainer{
      height:auto;
      .innerContainer{
        text-align:left;
      }
    }
  }
}

/*******************************************************************************
 ******************** Per Section Navigation Customizations ********************
 ******************************************************************************/
// About UW Tacoma
.section-875 #site-menu .menu:first-child > li.last{
  background-color: yellow;
  a:link,a:visited{
    color:$purple_dark;
  }
}